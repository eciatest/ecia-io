<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ECIA - G√©n√©rateur de scripts IA pour TikTok, Reels et Shorts. Cr√©ez des vid√©os virales en 30 secondes.">
    <title>ECIA - AI Script Generator for Viral Videos</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #141420;
            --bg-card: #1a1a2e;
            --accent-blue: #2563eb;
            --accent-blue-light: #3b82f6;
            --accent-blue-dark: #1e40af;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.8);
            --text-muted: rgba(255, 255, 255, 0.6);
            --border-color: rgba(37, 99, 235, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Utility Classes */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
        }

        .section {
            padding: 100px 0;
        }

        .hidden {
            display: none !important;
        }

        /* Header */
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 20px 0;
        }

        .header-content {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 20px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .header-center {
            display: flex;
            justify-content: center;
        }

        .header-right {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .lang-text {
            color: var(--text-secondary);
            font-size: 16px;
            font-weight: 500;
        }

        .lang-link {
            cursor: pointer;
            transition: color 0.3s;
        }

        .lang-link:hover {
            color: var(--accent-blue-light);
        }

        .lang-link.active {
            color: var(--accent-blue-light);
            font-weight: 600;
        }

        nav {
            display: flex;
            align-items: center;
            gap: 32px;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover {
            color: var(--accent-blue-light);
        }


        /* Buttons */
        .btn {
            display: inline-block;
            padding: 14px 32px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-light) 100%);
            color: white;
            text-decoration: none;
            font-weight: 600;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.4);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent-blue);
            padding: 12px 30px;
        }

        .btn-secondary:hover {
            background: rgba(37, 99, 235, 0.1);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 140px 0 100px;
            background: radial-gradient(ellipse at top, rgba(37, 99, 235, 0.15) 0%, transparent 60%);
        }

        .hero h1 {
            font-size: 64px;
            line-height: 1.1;
            margin-bottom: 24px;
            background: linear-gradient(135deg, #ffffff 0%, var(--accent-blue-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 22px;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 40px;
        }

        .hero-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 40px;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 80px;
            margin-top: 80px;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 52px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            display: block;
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
            margin-top: 60px;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        }

        /* Card */
        .card {
            background: var(--bg-card);
            padding: 40px;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-blue);
            box-shadow: 0 10px 40px rgba(37, 99, 235, 0.2);
        }

        .card h3 {
            font-size: 24px;
            margin-bottom: 16px;
            color: var(--accent-blue-light);
        }

        .card-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        /* Section Titles */
        .section-title {
            text-align: center;
            font-size: 48px;
            margin-bottom: 24px;
            background: linear-gradient(135deg, #ffffff 0%, var(--accent-blue-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            text-align: center;
            font-size: 20px;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 60px;
        }

        /* Before After Section */
        .before-after-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 0 0 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .before-after-item {
            width: 100%;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 9 / 16;
            border-radius: 12px;
            overflow: hidden;
            max-width: 280px;
            margin: 0 auto;
        }

        .video-placeholder {
            width: 100%;
            height: 100%;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 14px;
        }

        .video-content {
            z-index: 1;
        }

        .video-label {
            position: absolute;
            top: 8px;
            left: 8px;
            right: 8px;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(10px);
            padding: 8px 12px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 2;
            border: 1px solid var(--border-color);
        }

        .before-label {
            border-left: 4px solid #ef4444;
        }

        .after-label {
            border-left: 4px solid #22c55e;
        }

        .label-icon {
            font-size: 18px;
        }

        .label-content {
            flex: 1;
        }

        .label-content strong {
            display: block;
            color: var(--text-primary);
            font-size: 13px;
            margin-bottom: 2px;
        }

        .label-content p {
            margin: 0;
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.3;
        }

        #demo.section {
            padding-top: 40px;
        }

        /* Pricing */
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            max-width: 1000px;
            margin: 60px auto 0;
        }

        .pricing-card {
            background: var(--bg-card);
            padding: 48px 36px;
            border-radius: 20px;
            border: 2px solid var(--border-color);
            text-align: center;
            position: relative;
            transition: all 0.3s;
        }

        .pricing-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent-blue);
            box-shadow: 0 20px 60px rgba(37, 99, 235, 0.3);
        }

        .pricing-card.popular {
            border-color: var(--accent-blue);
            box-shadow: 0 10px 40px rgba(37, 99, 235, 0.3);
        }

        .popular-badge {
            position: absolute;
            top: -14px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-light) 100%);
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
        }

        .pricing-card h3 {
            font-size: 28px;
            margin-bottom: 12px;
        }

        .pricing-card .price {
            font-size: 56px;
            font-weight: 700;
            color: var(--accent-blue-light);
            margin: 24px 0;
        }

        .pricing-card .price small {
            font-size: 20px;
            color: var(--text-muted);
        }

        .pricing-card ul {
            list-style: none;
            margin: 32px 0;
            text-align: left;
        }

        .pricing-card li {
            padding: 12px 0;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .pricing-card li::before {
            content: "‚úì";
            color: var(--accent-blue);
            font-weight: 700;
            font-size: 18px;
        }

        /* FAQ */
        .faq-item {
            background: var(--bg-card);
            padding: 32px;
            border-radius: 12px;
            margin: 20px 0;
            border: 1px solid var(--border-color);
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }

        .faq-item h4 {
            color: var(--accent-blue-light);
            font-size: 20px;
            margin: 0;
            flex: 1;
        }

        .faq-icon {
            font-size: 24px;
            color: var(--accent-blue-light);
            transition: transform 0.3s;
            margin-left: 16px;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, margin-top 0.3s ease-out;
            margin-top: 0;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            margin-top: 16px;
        }

        .faq-item p {
            color: var(--text-secondary);
            margin: 0;
        }

        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, var(--accent-blue-dark) 0%, var(--accent-blue) 100%);
            padding: 80px 60px;
            border-radius: 20px;
            text-align: center;
            margin: 60px auto;
            max-width: 1200px;
        }

        .cta-section h2 {
            font-size: 48px;
            margin-bottom: 24px;
        }

        .cta-section p {
            font-size: 20px;
            opacity: 0.95;
            margin-bottom: 40px;
        }

        .cta-section .btn {
            background: white;
            color: var(--accent-blue);
            font-size: 18px;
            padding: 16px 40px;
        }

        .cta-section .btn:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        .cta-features {
            margin-top: 24px;
            font-size: 14px;
            opacity: 0.9;
        }

        /* Footer */
        footer {
            background: var(--bg-secondary);
            padding: 60px 24px 40px;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 60px;
            margin-bottom: 40px;
        }

        .footer-section h4 {
            margin-bottom: 20px;
            color: var(--accent-blue-light);
        }

        .footer-section p {
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .footer-section a {
            display: block;
            color: var(--text-secondary);
            text-decoration: none;
            margin: 12px 0;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--accent-blue-light);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 14px;
        }

        /* Mobile Menu Toggle */
        .mobile-menu-btn {
            display: none;
            background: transparent;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 8px;
        }

        .mobile-nav {
            display: none;
        }

        /* Tablet Responsive */
        @media (max-width: 1024px) {
            .container {
                padding: 0 20px;
            }

            .hero h1 {
                font-size: 52px;
            }

            .hero p {
                font-size: 20px;
            }

            .section {
                padding: 80px 0;
            }

            .grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 24px;
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            /* Header Mobile */
            header {
                padding: 16px 0;
            }

            .header-content {
                grid-template-columns: 1fr auto;
                gap: 12px;
            }

            .header-center {
                display: none;
            }

            .header-right {
                gap: 12px;
            }

            .header-right .btn {
                display: none;
            }

            .logo {
                font-size: 24px;
            }

            .lang-text {
                font-size: 14px;
            }

            nav {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .mobile-nav.active {
                display: flex;
                flex-direction: column;
                position: fixed;
                top: 68px;
                left: 0;
                right: 0;
                background: rgba(10, 10, 15, 0.98);
                backdrop-filter: blur(10px);
                border-bottom: 1px solid var(--border-color);
                padding: 24px;
                gap: 20px;
                z-index: 999;
            }

            .mobile-nav a {
                color: var(--text-secondary);
                text-decoration: none;
                font-weight: 500;
                font-size: 18px;
                padding: 12px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .mobile-nav .btn {
                margin-top: 12px;
                text-align: center;
            }

            /* Hero Mobile */
            .hero {
                padding: 100px 0 60px;
            }

            .hero h1 {
                font-size: 36px;
                line-height: 1.2;
                margin-bottom: 20px;
            }

            .hero p {
                font-size: 18px;
                line-height: 1.5;
                margin-bottom: 32px;
            }

            .hero-buttons {
                flex-direction: column;
                gap: 12px;
                width: 100%;
            }

            .hero-buttons .btn {
                width: 100%;
                padding: 16px 24px;
            }

            .hero-stats {
                gap: 32px;
                margin-top: 60px;
            }

            .stat-number {
                font-size: 42px;
            }

            .stat-label {
                font-size: 13px;
            }

            /* Sections Mobile */
            .section {
                padding: 60px 0;
            }

            .container {
                padding: 0 20px;
            }

            /* Grid Mobile */
            .grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }

            /* Cards Mobile */
            .card {
                padding: 32px 24px;
            }

            .card h3 {
                font-size: 22px;
            }

            .card-icon {
                font-size: 40px;
                margin-bottom: 16px;
            }

            /* Section Titles Mobile */
            .section-title {
                font-size: 32px;
                line-height: 1.2;
                margin-bottom: 16px;
            }

            .section-subtitle {
                font-size: 18px;
                line-height: 1.5;
                margin-bottom: 40px;
            }

            /* Before After Section Mobile */
            .before-after-container {
                grid-template-columns: 1fr;
                gap: 24px;
                margin: 0 0 32px;
            }

            #demo.section {
                padding-top: 40px;
            }

            .video-label {
                top: 12px;
                left: 12px;
                right: 12px;
                padding: 10px 12px;
            }

            .label-content strong {
                font-size: 14px;
            }

            .label-content p {
                font-size: 12px;
            }


            /* Pricing Mobile */
            .pricing-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }

            .pricing-card {
                padding: 40px 28px;
            }

            .pricing-card h3 {
                font-size: 24px;
            }

            .pricing-card .price {
                font-size: 48px;
            }

            .pricing-card .price small {
                font-size: 18px;
            }

            .pricing-card ul {
                margin: 24px 0;
            }

            .pricing-card li {
                padding: 10px 0;
                font-size: 15px;
            }

            .popular-badge {
                font-size: 11px;
                padding: 6px 20px;
            }

            /* FAQ Mobile */
            .faq-item {
                padding: 24px 20px;
            }

            .faq-item h4 {
                font-size: 18px;
                line-height: 1.4;
            }

            .faq-icon {
                font-size: 20px;
            }

            .faq-item p {
                font-size: 15px;
                line-height: 1.6;
            }

            /* CTA Section Mobile */
            .cta-section {
                padding: 50px 24px;
                border-radius: 16px;
                margin: 40px 20px;
            }

            .cta-section h2 {
                font-size: 32px;
                line-height: 1.2;
                margin-bottom: 20px;
            }

            .cta-section p {
                font-size: 18px;
                margin-bottom: 32px;
            }

            .cta-section .btn {
                font-size: 16px;
                padding: 16px 32px;
                width: 100%;
            }

            .cta-features {
                font-size: 13px;
                margin-top: 20px;
                line-height: 1.6;
            }

            /* Footer Mobile */
            footer {
                padding: 50px 20px 30px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 32px;
                margin-bottom: 32px;
            }

            .footer-section h4 {
                font-size: 18px;
                margin-bottom: 16px;
            }

            .footer-section p,
            .footer-section a {
                font-size: 15px;
            }

            .footer-bottom {
                padding-top: 32px;
                font-size: 13px;
            }

            /* Buttons Mobile */
            .btn {
                padding: 14px 28px;
                font-size: 15px;
            }

            .btn-secondary {
                padding: 12px 26px;
            }

        }

        /* Small Mobile (< 400px) */
        @media (max-width: 400px) {
            .hero h1 {
                font-size: 32px;
            }

            .hero p {
                font-size: 16px;
            }

            .section-title {
                font-size: 28px;
            }

            .section-subtitle {
                font-size: 16px;
            }

            .stat-number {
                font-size: 36px;
            }

            .pricing-card .price {
                font-size: 42px;
            }

            .cta-section h2 {
                font-size: 28px;
            }

            .card {
                padding: 28px 20px;
            }

            .demo-section {
                padding: 28px 16px;
            }
        }

        /* Landscape Mobile */
        @media (max-width: 768px) and (orientation: landscape) {
            .hero {
                padding: 80px 0 50px;
            }

            .section {
                padding: 50px 0;
            }
        }

        /* Touch Optimization */
        @media (hover: none) and (pointer: coarse) {
            .btn,
            .card,
            .pricing-card,
            .faq-item {
                -webkit-tap-highlight-color: transparent;
            }

            .btn:active {
                transform: scale(0.98);
            }

            .card:active,
            .pricing-card:active {
                transform: translateY(-2px);
            }
        }

        /* Cookie Banner */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-top: 2px solid var(--border-color);
            padding: 24px;
            z-index: 10000;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(100%);
            transition: transform 0.3s ease-out;
        }

        .cookie-banner.show {
            transform: translateY(0);
        }

        .cookie-banner-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
            flex-wrap: wrap;
        }

        .cookie-banner-text {
            flex: 1;
            min-width: 300px;
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
        }

        .cookie-banner-text a {
            color: var(--accent-blue-light);
            text-decoration: underline;
        }

        .cookie-banner-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .cookie-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }

        .cookie-btn-accept {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-light) 100%);
            color: white;
        }

        .cookie-btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
        }

        .cookie-btn-refuse {
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-secondary);
        }

        .cookie-btn-refuse:hover {
            border-color: var(--accent-blue);
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            .cookie-banner {
                padding: 20px;
            }

            .cookie-banner-content {
                flex-direction: column;
                align-items: stretch;
            }

            .cookie-banner-text {
                min-width: auto;
                margin-bottom: 16px;
            }

            .cookie-banner-buttons {
                width: 100%;
            }

            .cookie-btn {
                flex: 1;
                width: 100%;
            }
        }

        /* Auth Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 10001;
            align-items: center;
            justify-content: center;
        }

        .auth-modal.show {
            display: flex;
        }

        .auth-modal-content {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            position: relative;
        }

        .auth-modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .auth-modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .auth-modal h2 {
            font-size: 28px;
            margin-bottom: 24px;
            color: var(--text-primary);
        }

        .auth-form-group {
            margin-bottom: 20px;
        }

        .auth-form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }

        .auth-form-group input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s;
        }

        .auth-form-group input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .auth-form-group input::placeholder {
            color: var(--text-muted);
        }

        .auth-message {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .auth-message.show {
            display: block;
        }

        .auth-message.success {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            color: #22c55e;
        }

        .auth-message.error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        .auth-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-light) 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.4);
        }

        .auth-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auth-user-info {
            display: none;
            align-items: center;
            gap: 12px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .auth-user-info.show {
            display: flex;
        }

        .auth-user-email {
            color: var(--text-primary);
        }

        .auth-user-plan {
            padding: 4px 12px;
            background: rgba(37, 99, 235, 0.2);
            border: 1px solid var(--accent-blue);
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-blue-light);
        }

        .auth-logout-btn {
            padding: 8px 16px;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .auth-logout-btn:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue-light);
        }

        @media (max-width: 768px) {
            .auth-modal-content {
                padding: 32px 24px;
            }

            .auth-modal h2 {
                font-size: 24px;
            }

            .auth-user-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
        }
    </style>
</head>
<body>

<!-- Header -->
<header>
    <div class="container">
        <div class="header-content">
            <div class="header-left">
                <div class="logo">ECIA</div>
                <div class="lang-text">
                    <span class="lang-link" onclick="switchLang('fr')">FR</span> <span style="margin: 0 4px;">|</span> <span class="lang-link" onclick="switchLang('en')">EN</span>
                </div>
            </div>
            
            <!-- Desktop Navigation -->
            <nav class="header-center">
                <a href="#demo" data-i18n="nav-demo">D√©mo</a>
                <a href="#pricing" data-i18n="nav-pricing">Tarifs</a>
                <a href="#faq" data-i18n="nav-faq">FAQ</a>
            </nav>

            <div class="header-right">
                <div class="auth-user-info" id="authUserInfo">
                    <span class="auth-user-email" id="authUserEmail"></span>
                    <span class="auth-user-plan" id="authUserPlan"></span>
                    <button class="auth-logout-btn" onclick="handleLogout()" data-i18n="auth-logout">Se d√©connecter</button>
                </div>
                <button class="btn" id="authLoginBtn" onclick="openAuthModal()" data-i18n="auth-login" style="display: none;">Se connecter</button>
                <button onclick="openAuthModal()" class="btn" id="headerCtaBtn" data-i18n="nav-cta">Commencer gratuitement</button>
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Menu">
                    <span id="menuIcon">‚ò∞</span>
                </button>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <a href="#demo" data-i18n="nav-demo" onclick="closeMobileMenu()">D√©mo</a>
            <a href="#pricing" data-i18n="nav-pricing" onclick="closeMobileMenu()">Tarifs</a>
            <a href="#faq" data-i18n="nav-faq" onclick="closeMobileMenu()">FAQ</a>
            <div class="lang-text" style="padding: 12px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <span class="lang-link" onclick="switchLang('fr'); closeMobileMenu();">FR</span> <span style="margin: 0 4px;">|</span> <span class="lang-link" onclick="switchLang('en'); closeMobileMenu();">EN</span>
            </div>
            <button class="btn" data-i18n="nav-cta" onclick="openAuthModal(); closeMobileMenu();">Commencer gratuitement</button>
        </div>
    </div>
</header>

<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1 data-i18n="hero-title">Cr√©ez des scripts vid√©os qui cartonnent en 30 secondes gr√¢ce √† l'IA</h1>
        <p data-i18n="hero-subtitle">ECIA g√©n√®re des scripts complets pour TikTok, Reels et Shorts. Commencez √† cr√©er du contenu qui convertit.</p>
        
        <div class="hero-buttons">
            <button onclick="openAuthModal()" class="btn" data-i18n="hero-cta-primary">Essayer ECIA gratuitement</button>
            <a href="#pricing" class="btn btn-secondary" data-i18n="hero-cta-secondary">Voir les tarifs</a>
        </div>
    </div>
</section>

<!-- Before After Section -->
<section class="section" id="demo">
    <div class="container">
        <div class="before-after-container">
            <div class="before-after-item">
                <div class="video-wrapper">
                    <div class="video-placeholder">
                        <div class="video-label before-label">
                            <span class="label-icon">‚ùå</span>
                            <div class="label-content">
                                <strong data-i18n="before-label-title">Avant ECIA</strong>
                                <p data-i18n="before-label-desc">Hook faible ‚Ä¢ Peu de r√©tention ‚Ä¢ Scroll imm√©diat</p>
                            </div>
                        </div>
                        <div class="video-content" data-i18n="before-video-text">Vid√©o AVANT</div>
                    </div>
                </div>
            </div>
            
            <div class="before-after-item">
                <div class="video-wrapper">
                    <div class="video-placeholder">
                        <div class="video-label after-label">
                            <span class="label-icon">‚úÖ</span>
                            <div class="label-content">
                                <strong data-i18n="after-label-title">Apr√®s ECIA</strong>
                                <p data-i18n="after-label-desc">Hook optimis√© ‚Ä¢ Structure claire ‚Ä¢ CTA int√©gr√©</p>
                            </div>
                        </div>
                        <div class="video-content" data-i18n="after-video-text">Vid√©o APR√àS</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Problem Section -->
<section class="section">
    <div class="container">
        <h2 class="section-title" data-i18n="problem-title">Le probl√®me que vous rencontrez</h2>
        <div class="grid">
            <div class="card">
                <div class="card-icon">üìâ</div>
                <h3 data-i18n="problem-1-title">90% d'√©chec</h3>
                <p data-i18n="problem-1-desc">La majorit√© des vid√©os √©chouent car le hook n'accroche pas dans les 3 premi√®res secondes. Vous perdez votre audience avant m√™me qu'elle ne d√©couvre votre contenu.</p>
            </div>
            <div class="card">
                <div class="card-icon">‚è∞</div>
                <h3 data-i18n="problem-2-title">Temps perdu</h3>
                <p data-i18n="problem-2-desc">Vous passez des heures √† brainstormer des scripts, sans savoir s'ils fonctionneront vraiment. Le processus est lent, incertain et √©puisant.</p>
            </div>
            <div class="card">
                <div class="card-icon">üé≤</div>
                <h3 data-i18n="problem-3-title">R√©sultats al√©atoires</h3>
                <p data-i18n="problem-3-desc">Certaines vid√©os explosent, d'autres font un flop. Impossible de reproduire le succ√®s de mani√®re consistante sans une m√©thode √©prouv√©e.</p>
            </div>
        </div>
    </div>
</section>

<!-- Solution Section -->
<section class="section">
    <div class="container">
        <h2 class="section-title" data-i18n="solution-title">La solution ECIA</h2>
        <div class="grid">
            <div class="card">
                <div class="card-icon">‚ö°</div>
                <h3 data-i18n="solution-1-title">IA optimis√©e</h3>
                <p data-i18n="solution-1-desc">Notre algorithme analyse des millions de scripts viraux pour g√©n√©rer les accroches les plus performantes pour votre niche.</p>
            </div>
            <div class="card">
                <div class="card-icon">üìä</div>
                <h3 data-i18n="solution-2-title">Scoring intelligent</h3>
                <p data-i18n="solution-2-desc">Chaque script re√ßoit un score de clart√©, curiosit√© et √©motion. Vous savez exactement lequel choisir pour maximiser vos chances.</p>
            </div>
            <div class="card">
                <div class="card-icon">üöÄ</div>
                <h3 data-i18n="solution-3-title">100% automatis√©</h3>
                <p data-i18n="solution-3-desc">Collez votre sujet, cliquez sur g√©n√©rer. En 30 secondes, vous avez 10 scripts. Aucune comp√©tence requise.</p>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Section -->
<section class="section" id="pricing">
    <div class="container">
        <h2 class="section-title" data-i18n="pricing-title">Choisissez votre pack</h2>
        <p class="section-subtitle" data-i18n="pricing-subtitle">Commencez gratuitement. √âvoluez quand vous √™tes pr√™t.</p>
        
        <div class="pricing-grid">
            <!-- Free Plan -->
            <div class="pricing-card">
                <h3 data-i18n="plan-free-name">Gratuit</h3>
                <p style="color: var(--text-muted); margin: 12px 0;" data-i18n="plan-free-desc">Pour tester ECIA</p>
                <div class="price">0‚Ç¨</div>
                <ul>
                    <li data-i18n="plan-free-feat-1">2 scripts / month</li>
                    <li data-i18n="plan-free-feat-2">All formats</li>
                    <li data-i18n="plan-free-feat-3">Community support</li>
                </ul>
                <button onclick="openAuthModal()" class="btn btn-secondary" style="width: 100%; text-align: center; margin-top: 24px;" data-i18n="plan-free-cta">Commencer gratuitement</button>
            </div>

            <!-- Pro Plan -->
            <div class="pricing-card popular">
                <div class="popular-badge" data-i18n="plan-popular-badge">üî• POPULAR</div>
                <h3 data-i18n="plan-pro-name">Pro</h3>
                <p style="color: var(--text-muted); margin: 12px 0;" data-i18n="plan-pro-desc">For active creators</p>
                <div class="price">19‚Ç¨<small data-i18n="plan-price-month">/month</small></div>
                <ul>
                    <li data-i18n="plan-pro-feat-1">40 scripts / month</li>
                    <li data-i18n="plan-pro-feat-2">3 tone styles</li>
                    <li data-i18n="plan-pro-feat-3">Unlimited history</li>
                    <li data-i18n="plan-pro-feat-4">PDF export</li>
                    <li data-i18n="plan-pro-feat-5">Priority support</li>
                </ul>
                <a href="#" class="btn" style="width: 100%; text-align: center; margin-top: 24px;" data-i18n="plan-pro-cta">Get Pro</a>
            </div>

            <!-- Ultra Plan -->
            <div class="pricing-card">
                <h3 data-i18n="plan-ultra-name">Ultra</h3>
                <p style="color: var(--text-muted); margin: 12px 0;" data-i18n="plan-ultra-desc">For pros & agencies</p>
                <div class="price">39‚Ç¨<small data-i18n="plan-price-month">/month</small></div>
                <ul>
                    <li data-i18n="plan-ultra-feat-1">100 scripts / month</li>
                    <li data-i18n="plan-ultra-feat-2">5 tone styles</li>
                    <li data-i18n="plan-ultra-feat-3">Competitor analysis</li>
                    <li data-i18n="plan-ultra-feat-4">Custom scripts</li>
                    <li data-i18n="plan-ultra-feat-5">Ultra-priority support</li>
                </ul>
                <a href="#" class="btn" style="width: 100%; text-align: center; margin-top: 24px;" data-i18n="plan-ultra-cta">Get Ultra</a>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="section" id="faq">
    <div class="container" style="max-width: 900px;">
        <h2 class="section-title" data-i18n="faq-title">Questions fr√©quentes</h2>
        
        <div class="faq-item" onclick="toggleFaq(this)">
            <div class="faq-question">
                <h4 data-i18n="faq-1-q">ECIA fonctionne-t-il pour toutes les niches ?</h4>
                <span class="faq-icon">‚ñº</span>
            </div>
            <div class="faq-answer">
                <p data-i18n="faq-1-a">Oui, absolument. Que vous soyez dans le fitness, le business, le lifestyle, l'√©ducation ou toute autre niche, ECIA adapte ses scripts √† votre th√©matique sp√©cifique. L'IA a √©t√© entra√Æn√©e sur des millions de contenus viraux de toutes les cat√©gories.</p>
            </div>
        </div>

        <div class="faq-item" onclick="toggleFaq(this)">
            <div class="faq-question">
                <h4 data-i18n="faq-2-q">Puis-je annuler mon abonnement √† tout moment ?</h4>
                <span class="faq-icon">‚ñº</span>
            </div>
            <div class="faq-answer">
                <p data-i18n="faq-2-a">Oui, vous pouvez annuler en un clic depuis votre compte. Aucun engagement, aucune p√©riode minimale. Si vous annulez, vous gardez l'acc√®s jusqu'√† la fin de votre p√©riode pay√©e. Et nous offrons une garantie satisfait ou rembours√© de 30 jours.</p>
            </div>
        </div>

        <div class="faq-item" onclick="toggleFaq(this)">
            <div class="faq-question">
                <h4 data-i18n="faq-3-q">Est-ce adapt√© aux d√©butants ?</h4>
                <span class="faq-icon">‚ñº</span>
            </div>
            <div class="faq-answer">
                <p data-i18n="faq-3-a">Absolument ! ECIA est con√ßu pour √™tre ultra-simple. Pas besoin de connaissances en marketing, copywriting ou IA. Vous collez votre id√©e, l'outil fait le reste. De nombreux d√©butants obtiennent de meilleurs scripts que des cr√©ateurs exp√©riment√©s gr√¢ce √† ECIA.</p>
            </div>
        </div>

        <div class="faq-item" onclick="toggleFaq(this)">
            <div class="faq-question">
                <h4 data-i18n="faq-4-q">Les scripts g√©n√©r√©s sont-ils vraiment uniques ?</h4>
                <span class="faq-icon">‚ñº</span>
            </div>
            <div class="faq-answer">
                <p data-i18n="faq-4-a">Oui, chaque script est g√©n√©r√© de mani√®re unique pour votre contenu. L'IA ne copie jamais textuellement des scripts existants. Elle comprend les patterns qui fonctionnent et cr√©e des variations originales adapt√©es √† votre sujet pr√©cis.</p>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="section">
    <div class="container">
        <div class="cta-section">
            <h2 data-i18n="cta-title">Pr√™t √† cr√©er des scripts qui arr√™tent le scroll ?</h2>
            <p data-i18n="cta-subtitle">Rejoignez 2,847 cr√©ateurs qui boostent leur r√©tention avec ECIA</p>
            <button onclick="openAuthModal()" class="btn" data-i18n="cta-button">Commencer gratuitement ‚Üí</button>
            <p class="cta-features" data-i18n="cta-features">‚úì Aucune carte bancaire requise ‚Ä¢ ‚úì 2 scripts gratuits ‚Ä¢ ‚úì R√©sultats en 30 secondes</p>
        </div>
    </div>
</section>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h4>ECIA</h4>
                <p data-i18n="footer-desc">L'IA qui transforme vos id√©es en scripts viraux. Cr√©ez du contenu qui captive, retient et convertit.</p>
            </div>
            
            <div class="footer-section">
                <h4 data-i18n="footer-product-title">Produit</h4>
                <a href="#demo" data-i18n="footer-demo">D√©mo</a>
                <a href="#pricing" data-i18n="footer-pricing">Tarifs</a>
                <a href="#faq" data-i18n="footer-faq">FAQ</a>
            </div>
            
            <div class="footer-section">
                <h4 data-i18n="footer-legal-title">Legal</h4>
                <a href="cgv.html" data-i18n="footer-terms" data-i18n-href-fr="cgv.html" data-i18n-href-en="terms.html">Terms</a>
                <a href="cgu.html" data-i18n="footer-cgu" data-i18n-href-fr="cgu.html" data-i18n-href-en="terms-of-use.html">CGU</a>
                <a href="politique-confidentialite.html" data-i18n="footer-privacy" data-i18n-href-fr="politique-confidentialite.html" data-i18n-href-en="privacy-policy.html">Privacy</a>
                <a href="mentions-legales.html" data-i18n="footer-legal" data-i18n-href-fr="mentions-legales.html" data-i18n-href-en="legal-notice.html">Legal Notice</a>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>¬© 2026 ECIA ‚Äî <span data-i18n="footer-rights">All rights reserved</span></p>
            <p style="margin-top: 8px;">contact@ecia.io</p>
        </div>
    </div>
</footer>

    <script>
    // Translations - MUST be defined first
    const translations = {
        fr: {
            // Navigation
            'nav-demo': 'D√©mo',
            'nav-pricing': 'Tarifs',
            'nav-faq': 'FAQ',
            'nav-cta': 'Commencer gratuitement',
            
            // Hero
            'hero-title': 'Cr√©ez des scripts vid√©os qui cartonnent en 30 secondes gr√¢ce √† l\'IA',
            'hero-subtitle': 'ECIA g√©n√®re des scripts complets pour TikTok, Reels et Shorts. Commencez √† cr√©er du contenu qui convertit.',
            'hero-cta-primary': 'Essayer ECIA gratuitement',
            'hero-cta-secondary': 'Voir les tarifs',
            
            // Stats
            'stat-creators': 'Cr√©ateurs actifs',
            'stat-retention': 'R√©tention moyenne',
            'stat-views': 'Vues g√©n√©r√©es',
            
            // Before After
            'before-after-title': 'Avant / Apr√®s : la diff√©rence ECIA',
            'before-after-subtitle': 'Voyez comment un script banal devient un script qui capte l\'attention d√®s les 3 premi√®res secondes.',
            'before-after-note': 'M√™me sujet. M√™me cr√©ateur. Seul le script change.',
            'before-after-cta': 'Essayer ECIA gratuitement',
            'before-label-title': 'Avant ECIA',
            'before-label-desc': 'Hook faible ‚Ä¢ Peu de r√©tention ‚Ä¢ Scroll imm√©diat',
            'after-label-title': 'Apr√®s ECIA',
            'after-label-desc': 'Hook optimis√© ‚Ä¢ Structure claire ‚Ä¢ CTA int√©gr√©',
            'before-video-text': 'Vid√©o AVANT',
            'after-video-text': 'Vid√©o APR√àS',
            
            // Problem
            'problem-title': 'Le probl√®me que vous rencontrez',
            'problem-1-title': '90% d\'√©chec',
            'problem-1-desc': 'La majorit√© des vid√©os √©chouent car le hook n\'accroche pas dans les 3 premi√®res secondes. Vous perdez votre audience avant m√™me qu\'elle ne d√©couvre votre contenu.',
            'problem-2-title': 'Temps perdu',
            'problem-2-desc': 'Vous passez des heures √† brainstormer des scripts, sans savoir s\'ils fonctionneront vraiment. Le processus est lent, incertain et √©puisant.',
            'problem-3-title': 'R√©sultats al√©atoires',
            'problem-3-desc': 'Certaines vid√©os explosent, d\'autres font un flop. Impossible de reproduire le succ√®s de mani√®re consistante sans une m√©thode √©prouv√©e.',
            
            // Solution
            'solution-title': 'La solution ECIA',
            'solution-1-title': 'IA optimis√©e',
            'solution-1-desc': 'Notre algorithme analyse des millions de scripts viraux pour g√©n√©rer les accroches les plus performantes pour votre niche.',
            'solution-2-title': 'Scoring intelligent',
            'solution-2-desc': 'Chaque script re√ßoit un score de clart√©, curiosit√© et √©motion. Vous savez exactement lequel choisir pour maximiser vos chances.',
            'solution-3-title': '100% automatis√©',
            'solution-3-desc': 'Collez votre sujet, cliquez sur g√©n√©rer. En 30 secondes, vous avez 10 scripts. Aucune comp√©tence requise.',
            
            // Pricing
            'pricing-title': 'Choisissez votre pack',
            'pricing-subtitle': 'Commencez gratuitement. √âvoluez quand vous √™tes pr√™t.',
            'plan-popular-badge': 'üî• LE PLUS POPULAIRE',
            'plan-price-month': '/mois',
            
            'plan-free-name': 'Gratuit',
            'plan-free-desc': 'Pour tester ECIA',
            'plan-free-feat-1': '2 scripts / mois',
            'plan-free-feat-2': 'Tous les formats',
            'plan-free-feat-3': 'Support communaut√©',
            'plan-free-cta': 'Commencer gratuitement',
            
            'plan-pro-name': 'Pro',
            'plan-pro-desc': 'Pour cr√©ateurs actifs',
            'plan-pro-feat-1': '40 scripts / mois',
            'plan-pro-feat-2': '3 styles de ton',
            'plan-pro-feat-3': 'Historique illimit√©',
            'plan-pro-feat-4': 'Export PDF',
            'plan-pro-feat-5': 'Support prioritaire',
            'plan-pro-cta': 'Passer √† Pro',
            
            'plan-ultra-name': 'Ultra',
            'plan-ultra-desc': 'Pour pros & agences',
            'plan-ultra-feat-1': '100 scripts / mois',
            'plan-ultra-feat-2': '5 styles de ton',
            'plan-ultra-feat-3': 'Analyse concurrence',
            'plan-ultra-feat-4': 'Scripts personnalis√©s',
            'plan-ultra-feat-5': 'Support ultra-prioritaire',
            'plan-ultra-cta': 'Passer √† Ultra',
            
            'plan-guarantee': '‚úì Garantie satisfait ou rembours√© 30 jours',
            
            // FAQ
            'faq-title': 'Questions fr√©quentes',
            'faq-1-q': 'ECIA fonctionne-t-il pour toutes les niches ?',
            'faq-1-a': 'Oui, absolument. Que vous soyez dans le fitness, le business, le lifestyle, l\'√©ducation ou toute autre niche, ECIA adapte ses scripts √† votre th√©matique sp√©cifique. L\'IA a √©t√© entra√Æn√©e sur des millions de contenus viraux de toutes les cat√©gories.',
            'faq-2-q': 'Puis-je annuler mon abonnement √† tout moment ?',
            'faq-2-a': 'Oui, vous pouvez annuler en un clic depuis votre compte. Aucun engagement, aucune p√©riode minimale. Si vous annulez, vous gardez l\'acc√®s jusqu\'√† la fin de votre p√©riode pay√©e. Et nous offrons une garantie satisfait ou rembours√© de 30 jours.',
            'faq-3-q': 'Est-ce adapt√© aux d√©butants ?',
            'faq-3-a': 'Absolument ! ECIA est con√ßu pour √™tre ultra-simple. Pas besoin de connaissances en marketing, copywriting ou IA. Vous collez votre id√©e, l\'outil fait le reste. De nombreux d√©butants obtiennent de meilleurs scripts que des cr√©ateurs exp√©riment√©s gr√¢ce √† ECIA.',
            'faq-4-q': 'Les scripts g√©n√©r√©s sont-ils vraiment uniques ?',
            'faq-4-a': 'Oui, chaque script est g√©n√©r√© de mani√®re unique pour votre contenu. L\'IA ne copie jamais textuellement des scripts existants. Elle comprend les patterns qui fonctionnent et cr√©e des variations originales adapt√©es √† votre sujet pr√©cis.',
            
            // CTA
            'cta-title': 'Pr√™t √† cr√©er des scripts qui arr√™tent le scroll ?',
            'cta-subtitle': 'Rejoignez 2,847 cr√©ateurs qui boostent leur r√©tention avec ECIA',
            'cta-button': 'Commencer gratuitement ‚Üí',
            'cta-features': '‚úì Aucune carte bancaire requise ‚Ä¢ ‚úì 2 scripts gratuits ‚Ä¢ ‚úì R√©sultats en 30 secondes',
            
            // Footer
            'footer-desc': 'L\'IA qui transforme vos id√©es en scripts viraux. Cr√©ez du contenu qui captive, retient et convertit.',
            'footer-product-title': 'Produit',
            'footer-demo': 'D√©mo',
            'footer-pricing': 'Tarifs',
            'footer-faq': 'FAQ',
            'footer-legal-title': 'L√©gal',
            'footer-terms': 'CGV',
            'footer-cgu': 'CGU',
            'footer-privacy': 'Politique de confidentialit√©',
            'footer-legal': 'Mentions l√©gales',
            'footer-rights': 'Tous droits r√©serv√©s',
            
            // Cookie Banner
            'cookie-text': 'Nous utilisons des cookies pour am√©liorer votre exp√©rience, analyser le trafic et personnaliser le contenu. En continuant, vous acceptez notre utilisation des cookies.',
            'cookie-learn-more': 'En savoir plus',
            'cookie-accept': 'Accepter',
            'cookie-refuse': 'Refuser',
            
            // Auth
            'auth-login': 'Se connecter',
            'auth-logout': 'Se d√©connecter',
            'auth-title': 'Se connecter',
            'auth-email-label': 'Email',
            'auth-submit': 'Se connecter',
            'auth-success': 'Lien envoy√©, v√©rifiez votre email',
            'auth-error': 'Une erreur est survenue. Veuillez r√©essayer.'
        },
        en: {
            // Navigation
            'nav-demo': 'Demo',
            'nav-pricing': 'Pricing',
            'nav-faq': 'FAQ',
            'nav-cta': 'Start Free',
            
            // Hero
            'hero-title': 'Create video scripts that hit in 30 seconds thanks to AI',
            'hero-subtitle': 'ECIA generates complete scripts for TikTok, Reels and Shorts. Start creating content that converts.',
            'hero-cta-primary': 'Try ECIA Free',
            'hero-cta-secondary': 'See Pricing',
            
            // Stats
            'stat-creators': 'Active creators',
            'stat-retention': 'Average retention',
            'stat-views': 'Views generated',
            
            // Before After
            'before-after-title': 'Before / After : the ECIA difference',
            'before-after-subtitle': 'See how a bland script becomes a script that captures attention in the first 3 seconds.',
            'before-after-note': 'Same topic. Same creator. Only the script changes.',
            'before-after-cta': 'Try ECIA for free',
            'before-label-title': 'Before ECIA',
            'before-label-desc': 'Weak hook ‚Ä¢ Low retention ‚Ä¢ Immediate scroll',
            'after-label-title': 'After ECIA',
            'after-label-desc': 'Optimized hook ‚Ä¢ Clear structure ‚Ä¢ Integrated CTA',
            'before-video-text': 'BEFORE Video',
            'after-video-text': 'AFTER Video',
            
            // Problem
            'problem-title': 'The problem you\'re facing',
            'problem-1-title': '90% failure rate',
            'problem-1-desc': 'Most videos fail because the hook doesn\'t grab attention in the first 3 seconds. You lose your audience before they even discover your content.',
            'problem-2-title': 'Wasted time',
            'problem-2-desc': 'You spend hours brainstorming scripts without knowing if they\'ll actually work. The process is slow, uncertain and exhausting.',
            'problem-3-title': 'Random results',
            'problem-3-desc': 'Some videos explode, others flop. Impossible to consistently reproduce success without a proven method.',
            
            // Solution
            'solution-title': 'The ECIA solution',
            'solution-1-title': 'Optimized AI',
            'solution-1-desc': 'Our algorithm analyzes millions of viral scripts to generate the highest performing hooks for your niche.',
            'solution-2-title': 'Smart scoring',
            'solution-2-desc': 'Each script receives a clarity, curiosity and emotion score. You know exactly which one to choose to maximize your chances.',
            'solution-3-title': '100% automated',
            'solution-3-desc': 'Paste your topic, click generate. In 30 seconds, you have 10 scripts. No skills required.',
            
            // Pricing
            'pricing-title': 'Choose your plan',
            'pricing-subtitle': 'Start free. Scale when ready.',
            'plan-popular-badge': 'üî• THE MOST POPULAR',
            'plan-price-month': '/month',
            
            'plan-free-name': 'Free',
            'plan-free-desc': 'To test ECIA',
            'plan-free-feat-1': '2 scripts / month',
            'plan-free-feat-2': 'All formats',
            'plan-free-feat-3': 'Community support',
            'plan-free-cta': 'Start Free',
            
            'plan-pro-name': 'Pro',
            'plan-pro-desc': 'For active creators',
            'plan-pro-feat-1': '40 scripts / month',
            'plan-pro-feat-2': '3 tone styles',
            'plan-pro-feat-3': 'Unlimited history',
            'plan-pro-feat-4': 'PDF export',
            'plan-pro-feat-5': 'Priority support',
            'plan-pro-cta': 'Get Pro',
            
            'plan-ultra-name': 'Ultra',
            'plan-ultra-desc': 'For pros & agencies',
            'plan-ultra-feat-1': '100 scripts / month',
            'plan-ultra-feat-2': '5 tone styles',
            'plan-ultra-feat-3': 'Competitor analysis',
            'plan-ultra-feat-4': 'Custom scripts',
            'plan-ultra-feat-5': 'Ultra-priority support',
            'plan-ultra-cta': 'Get Ultra',
            
            'plan-guarantee': '‚úì 30-day money-back guarantee',
            
            // FAQ
            'faq-title': 'Frequently Asked Questions',
            'faq-1-q': 'Does ECIA work for all niches?',
            'faq-1-a': 'Yes, absolutely. Whether you\'re in fitness, business, lifestyle, education or any other niche, ECIA adapts its scripts to your specific theme. The AI has been trained on millions of viral content from all categories.',
            'faq-2-q': 'Can I cancel my subscription anytime?',
            'faq-2-a': 'Yes, you can cancel with one click from your account. No commitment, no minimum period. If you cancel, you keep access until the end of your paid period. And we offer a 30-day money-back guarantee.',
            'faq-3-q': 'Is it suitable for beginners?',
            'faq-3-a': 'Absolutely! ECIA is designed to be ultra-simple. No marketing, copywriting or AI knowledge needed. You paste your idea, the tool does the rest. Many beginners get better scripts than experienced creators thanks to ECIA.',
            'faq-4-q': 'Are the generated scripts truly unique?',
            'faq-4-a': 'Yes, each script is uniquely generated for your content. The AI never literally copies existing scripts. It understands the patterns that work and creates original variations adapted to your specific topic.',
            
            // CTA
            'cta-title': 'Ready to create scripts that stop the scroll?',
            'cta-subtitle': 'Join 2,847 creators boosting their retention with ECIA',
            'cta-button': 'Start Free ‚Üí',
            'cta-features': '‚úì No credit card required ‚Ä¢ ‚úì 2 free scripts ‚Ä¢ ‚úì Results in 30 seconds',
            
            // Footer
            'footer-desc': 'The AI that transforms your ideas into viral scripts. Create content that captivates, retains and converts.',
            'footer-product-title': 'Product',
            'footer-demo': 'Demo',
            'footer-pricing': 'Pricing',
            'footer-faq': 'FAQ',
            'footer-legal-title': 'Legal',
            'footer-terms': 'Terms',
            'footer-cgu': 'Terms of Use',
            'footer-privacy': 'Privacy Policy',
            'footer-legal': 'Legal Notice',
            'footer-rights': 'All rights reserved',
            
            // Cookie Banner
            'cookie-text': 'We use cookies to improve your experience, analyze traffic and personalize content. By continuing, you accept our use of cookies.',
            'cookie-learn-more': 'Learn more',
            'cookie-accept': 'Accept',
            'cookie-refuse': 'Refuse',
            
            // Auth
            'auth-login': 'Sign in',
            'auth-logout': 'Sign out',
            'auth-title': 'Sign in',
            'auth-email-label': 'Email',
            'auth-submit': 'Sign in',
            'auth-success': 'Link sent, check your email',
            'auth-error': 'An error occurred. Please try again.'
        }
    };

    let currentLang = 'fr';

    // Mobile Menu Toggle
    function toggleMobileMenu() {
        const mobileNav = document.getElementById('mobileNav');
        const menuIcon = document.getElementById('menuIcon');
        
        if (mobileNav.classList.contains('active')) {
            mobileNav.classList.remove('active');
            menuIcon.textContent = '‚ò∞';
        } else {
            mobileNav.classList.add('active');
            menuIcon.textContent = '‚úï';
        }
    }

    function closeMobileMenu() {
        const mobileNav = document.getElementById('mobileNav');
        const menuIcon = document.getElementById('menuIcon');
        mobileNav.classList.remove('active');
        menuIcon.textContent = '‚ò∞';
    }

    // FAQ Accordion
    function toggleFaq(item) {
        item.classList.toggle('active');
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
        const mobileNav = document.getElementById('mobileNav');
        const menuBtn = document.querySelector('.mobile-menu-btn');
        
        if (mobileNav && mobileNav.classList.contains('active')) {
            if (!mobileNav.contains(event.target) && !menuBtn.contains(event.target)) {
                closeMobileMenu();
            }
        }
    });

    // Make switchLang globally accessible - MUST be defined before Supabase
    window.switchLang = function(lang) {
        try {
            if (!lang || (lang !== 'fr' && lang !== 'en')) {
                lang = 'fr';
            }
            
            currentLang = lang;
            
            // Save language to localStorage
            localStorage.setItem('ecia-lang', lang);
            
            // Update lang link states
            document.querySelectorAll('.lang-link').forEach(link => {
                link.classList.remove('active');
                if (link.textContent.trim() === lang.toUpperCase()) {
                    link.classList.add('active');
                }
            });
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            
            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations && translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
                
                // Update href for links with data-i18n-href attributes
                if (element.tagName === 'A') {
                    const hrefAttr = 'data-i18n-href-' + lang;
                    if (element.hasAttribute(hrefAttr)) {
                        element.href = element.getAttribute(hrefAttr);
                    }
                }
            });
            
            // Also update links with data-i18n-href attributes that don't have data-i18n
            document.querySelectorAll('a[data-i18n-href-fr], a[data-i18n-href-en]').forEach(link => {
                const hrefAttr = 'data-i18n-href-' + lang;
                if (link.hasAttribute(hrefAttr)) {
                    link.href = link.getAttribute(hrefAttr);
                }
            });
        } catch (error) {
            console.error('Error in switchLang:', error);
        }
    };

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });

    // Supabase Configuration - AFTER switchLang is defined
    // ‚ö†Ô∏è REMPLACEZ CES VALEURS PAR VOS CR√âDENTIALS SUPABASE
    const SUPABASE_URL = 'https://inamfqciwzgnkjteetkt.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluYW1mcWNpd3pnbmtqdGVldGt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5OTUyODcsImV4cCI6MjA4MTU3MTI4N30.E0sfii7j89Dv2-oBytjfAN1MSXd_YJQmbF518bsDnmo';
    
    let supabase = null;
    
    // Function to initialize Supabase
    function initSupabaseClient() {
        try {
            console.log('üîç [DEBUG] Checking Supabase initialization...');
            console.log('üîç [DEBUG] SUPABASE_URL:', SUPABASE_URL?.substring(0, 30) || 'undefined', '...');
            console.log('üîç [DEBUG] SUPABASE_ANON_KEY:', SUPABASE_ANON_KEY?.substring(0, 20) || 'undefined', '...');
            console.log('üîç [DEBUG] window.supabase exists?', !!window.supabase);
            
            // Check if Supabase library is loaded
            if (!window.supabase) {
                console.warn('‚ö†Ô∏è Supabase library not loaded yet. Retrying in 500ms...');
                setTimeout(initSupabaseClient, 500);
                return;
            }
            
            console.log('‚úÖ Supabase library is loaded');
            
            // Check if credentials are configured
            if (!SUPABASE_URL || SUPABASE_URL === 'YOUR_SUPABASE_URL' || !SUPABASE_ANON_KEY || SUPABASE_ANON_KEY === 'YOUR_SUPABASE_ANON_KEY') {
                console.error('‚ùå ============================================');
                console.error('‚ùå ERREUR: Credentials Supabase non configur√©s');
                console.error('‚ùå ============================================');
                console.error('‚ùå Veuillez remplacer les valeurs aux lignes 1957-1958');
                console.error('‚ùå Ligne 1957: const SUPABASE_URL = \'YOUR_SUPABASE_URL\';');
                console.error('‚ùå Ligne 1958: const SUPABASE_ANON_KEY = \'YOUR_SUPABASE_ANON_KEY\';');
                console.error('‚ùå ============================================');
                return;
            }
            
            // Validate URL format
            if (!SUPABASE_URL.startsWith('https://') || !SUPABASE_URL.includes('.supabase.co')) {
                console.error('‚ùå ============================================');
                console.error('‚ùå ERREUR: Format SUPABASE_URL invalide');
                console.error('‚ùå URL actuelle:', SUPABASE_URL);
                console.error('‚ùå Format attendu: https://xxxxx.supabase.co');
                console.error('‚ùå ============================================');
                return;
            }
            
            // Validate key format (should be a JWT token)
            if (!SUPABASE_ANON_KEY.startsWith('eyJ')) {
                console.warn('‚ö†Ô∏è SUPABASE_ANON_KEY format looks incorrect. Should start with "eyJ" (JWT token)');
                console.warn('‚ö†Ô∏è Key starts with:', SUPABASE_ANON_KEY.substring(0, 10));
            }
            
            // Create Supabase client
            console.log('üîß Creating Supabase client...');
            supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            console.log('‚úÖ ============================================');
            console.log('‚úÖ Supabase client initialized successfully!');
            console.log('‚úÖ URL:', SUPABASE_URL);
            console.log('‚úÖ ============================================');
        } catch (error) {
            console.error('‚ùå ============================================');
            console.error('‚ùå Supabase initialization error:', error);
            console.error('‚ùå Error message:', error.message);
            console.error('‚ùå Error stack:', error.stack);
            console.error('‚ùå ============================================');
            supabase = null;
        }
    }
    
    // Try to initialize immediately
    initSupabaseClient();
    
    // Also try after a delay in case script loads later
    setTimeout(initSupabaseClient, 1000);

    // Auth State
    let currentUser = null;
    let userPlan = null;

    // Initialize language immediately - before DOMContentLoaded
    (function() {
        // Check URL parameter first
        const urlParams = new URLSearchParams(window.location.search);
        const urlLang = urlParams.get('lang');
        
        // Check localStorage
        const storedLang = localStorage.getItem('ecia-lang');
        
        // Use URL param, then localStorage, then default to French
        // Validate that lang is either 'fr' or 'en'
        let initialLang = urlLang || storedLang || 'fr';
        if (initialLang !== 'fr' && initialLang !== 'en') {
            initialLang = 'fr';
        }
        
        // Set currentLang immediately
        currentLang = initialLang;
        document.documentElement.lang = initialLang;
        
        // If storedLang is 'en', keep it, otherwise default to 'fr'
        if (!storedLang && !urlLang) {
            localStorage.setItem('ecia-lang', 'fr');
        }
    })();
    
    // Initialize with language from URL, localStorage, or default to French
    window.addEventListener('DOMContentLoaded', () => {
        // Check URL parameter first
        const urlParams = new URLSearchParams(window.location.search);
        const urlLang = urlParams.get('lang');
        
        // Check localStorage
        const storedLang = localStorage.getItem('ecia-lang');
        
        // Use URL param, then localStorage, then default to French
        // Validate that lang is either 'fr' or 'en'
        let initialLang = urlLang || storedLang || 'fr';
        if (initialLang !== 'fr' && initialLang !== 'en') {
            initialLang = 'fr';
        }
        
        // Call switchLang to set the language immediately
        if (typeof window.switchLang === 'function') {
            window.switchLang(initialLang);
        } else {
            // Fallback: set language directly
            currentLang = initialLang;
            localStorage.setItem('ecia-lang', initialLang);
            document.documentElement.lang = initialLang;
            // Try to update translations manually
            if (translations && translations[initialLang]) {
                document.querySelectorAll('[data-i18n]').forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    if (translations[initialLang][key]) {
                        element.textContent = translations[initialLang][key];
                    }
                });
            }
        }
        
        // Clean URL if lang parameter was present
        if (urlLang) {
            window.history.replaceState({}, '', window.location.pathname);
        }

        // Cookie Banner initialization
        const cookieBanner = document.getElementById('cookieBanner');
        const cookieAcceptBtn = document.getElementById('cookieAccept');
        const cookieRefuseBtn = document.getElementById('cookieRefuse');

        if (cookieBanner) {
            // Check if user has already made a choice
            function checkCookieConsent() {
                const consent = localStorage.getItem('ecia-cookie-consent');
                if (!consent) {
                    // Show banner after a short delay
                    setTimeout(() => {
                        cookieBanner.classList.add('show');
                    }, 1000);
                }
            }

            // Accept cookies
            function acceptCookies() {
                localStorage.setItem('ecia-cookie-consent', 'accepted');
                cookieBanner.classList.remove('show');
                // Here you can initialize analytics, tracking, etc.
            }

            // Refuse cookies
            function refuseCookies() {
                localStorage.setItem('ecia-cookie-consent', 'refused');
                cookieBanner.classList.remove('show');
                // Here you can disable non-essential cookies
            }

            // Event listeners
            if (cookieAcceptBtn) {
                cookieAcceptBtn.addEventListener('click', acceptCookies);
            }
            if (cookieRefuseBtn) {
                cookieRefuseBtn.addEventListener('click', refuseCookies);
            }

            // Check on page load
            checkCookieConsent();
        }

        // Initialize auth after a short delay to ensure Supabase is loaded
        setTimeout(() => {
            try {
                if (SUPABASE_URL && SUPABASE_URL !== 'YOUR_SUPABASE_URL' && SUPABASE_ANON_KEY && SUPABASE_ANON_KEY !== 'YOUR_SUPABASE_ANON_KEY') {
                    if (supabase) {
                        console.log('‚úÖ Initializing auth...');
                        initAuth();
                    } else {
                        console.warn('‚ö†Ô∏è Supabase client not ready yet. Retrying in 2 seconds...');
                        // Retry after another delay
                        setTimeout(() => {
                            if (supabase) {
                                console.log('‚úÖ Supabase client ready, initializing auth...');
                                initAuth();
                            } else {
                                console.error('‚ùå Supabase client failed to initialize.');
                                console.error('V√©rifiez:');
                                console.error('1. Votre SUPABASE_URL est correct (ligne 1957)');
                                console.error('2. Votre SUPABASE_ANON_KEY est correct (ligne 1958)');
                                console.error('3. La biblioth√®que Supabase est charg√©e (onglet Network)');
                                console.error('4. Ouvrez la console pour voir les erreurs d√©taill√©es');
                            }
                        }, 2000);
                    }
                } else {
                    console.warn('‚ö†Ô∏è Supabase credentials not configured at lines 1957-1958.');
                }
            } catch (error) {
                console.error('‚ùå Auth initialization error:', error);
            }
        }, 500);
    });

    // Close mobile menu on resize to desktop
    window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
            closeMobileMenu();
        }
    });

    // ========== SUPABASE AUTHENTICATION ==========

    // Open Auth Modal
    function openAuthModal() {
        const modal = document.getElementById('authModal');
        const form = document.getElementById('authForm');
        const message = document.getElementById('authMessage');
        
        modal.classList.add('show');
        form.reset();
        message.classList.remove('show', 'success', 'error');
    }

    // Close Auth Modal
    function closeAuthModal() {
        const modal = document.getElementById('authModal');
        modal.classList.remove('show');
    }

    // Handle Auth Form Submit
    async function handleAuthSubmit(event) {
        event.preventDefault();
        
        if (!supabase) {
            const errorMsg = currentLang === 'fr' 
                ? 'Supabase n\'est pas configur√©. V√©rifiez vos credentials aux lignes 1957-1958.' 
                : 'Supabase is not configured. Check your credentials at lines 1957-1958.';
            showAuthMessage(errorMsg, 'error');
            console.error('‚ùå Supabase client is null. Check initialization.');
            return;
        }
        
        const emailInput = document.getElementById('authEmail');
        const submitBtn = document.getElementById('authSubmitBtn');
        const message = document.getElementById('authMessage');
        const email = emailInput.value.trim();

        if (!email) {
            const errorMsg = currentLang === 'fr' 
                ? 'Veuillez entrer une adresse email valide.' 
                : 'Please enter a valid email address.';
            showAuthMessage(errorMsg, 'error');
            return;
        }

        // Disable button
        submitBtn.disabled = true;
        const sendingText = currentLang === 'fr' ? 'Envoi...' : 'Sending...';
        submitBtn.textContent = sendingText;

        try {
            console.log('üìß Sending magic link to:', email);
            const { data, error } = await supabase.auth.signInWithOtp({
                email: email,
                options: {
                    emailRedirectTo: window.location.origin + window.location.pathname
                }
            });

            if (error) {
                console.error('‚ùå Supabase auth error:', error);
                console.error('Error message:', error.message);
                console.error('Error code:', error.status);
                throw error;
            }
            
            console.log('‚úÖ Magic link sent successfully');

            // Success - use translations
            const successKey = 'auth-success';
            const successText = translations[currentLang]?.[successKey] || (currentLang === 'fr' ? 'Lien envoy√©, v√©rifiez votre email' : 'Link sent, check your email');
            showAuthMessage(successText, 'success');
            
            // Clear form
            emailInput.value = '';
            
            // Close modal after 3 seconds
            setTimeout(() => {
                closeAuthModal();
            }, 3000);

        } catch (error) {
            console.error('‚ùå Auth error:', error);
            console.error('Error details:', {
                message: error.message,
                status: error.status,
                name: error.name
            });
            
            // More specific error messages
            let errorText;
            if (error.message?.includes('Invalid API key') || error.status === 401) {
                errorText = currentLang === 'fr' 
                    ? 'Cl√© API invalide. V√©rifiez votre SUPABASE_ANON_KEY (ligne 1958).' 
                    : 'Invalid API key. Check your SUPABASE_ANON_KEY (line 1958).';
            } else if (error.message?.includes('Invalid URL') || error.status === 400) {
                errorText = currentLang === 'fr' 
                    ? 'URL invalide. V√©rifiez votre SUPABASE_URL (ligne 1957).' 
                    : 'Invalid URL. Check your SUPABASE_URL (line 1957).';
            } else {
                const errorKey = 'auth-error';
                errorText = translations[currentLang]?.[errorKey] || (currentLang === 'fr' ? 'Une erreur est survenue. Veuillez r√©essayer.' : 'An error occurred. Please try again.');
            }
            showAuthMessage(errorText, 'error');
        } finally {
            submitBtn.disabled = false;
            const submitKey = 'auth-submit';
            submitBtn.textContent = translations[currentLang]?.[submitKey] || (currentLang === 'fr' ? 'Se connecter' : 'Sign in');
        }
    }

    // Show Auth Message
    function showAuthMessage(text, type) {
        const message = document.getElementById('authMessage');
        message.textContent = text;
        message.className = `auth-message show ${type}`;
    }

    // Handle Logout
    async function handleLogout() {
        if (!supabase) return;
        
        try {
            const { error } = await supabase.auth.signOut();
            if (error) throw error;
            
            currentUser = null;
            userPlan = null;
            updateAuthUI();
        } catch (error) {
            console.error('Logout error:', error);
        }
    }

    // Get User Profile
    async function getUserProfile(userId) {
        if (!supabase) return 'free';
        
        try {
            const { data, error } = await supabase
                .from('profiles')
                .select('plan')
                .eq('id', userId)
                .single();

            if (error) {
                console.error('Error fetching profile:', error);
                return null;
            }

            return data?.plan || 'free';
        } catch (error) {
            console.error('Error fetching profile:', error);
            return 'free';
        }
    }

    // Update Auth UI
    function updateAuthUI() {
        const authUserInfo = document.getElementById('authUserInfo');
        const authLoginBtn = document.getElementById('authLoginBtn');
        const authUserEmail = document.getElementById('authUserEmail');
        const authUserPlan = document.getElementById('authUserPlan');
        const headerCtaBtn = document.getElementById('headerCtaBtn');

        if (currentUser) {
            // User is logged in
            authUserInfo.classList.add('show');
            authLoginBtn.style.display = 'none';
            if (headerCtaBtn) headerCtaBtn.style.display = 'none';
            
            authUserEmail.textContent = currentUser.email;
            
            // Update plan display
            const planText = userPlan || 'free';
            const planDisplay = planText.charAt(0).toUpperCase() + planText.slice(1);
            authUserPlan.textContent = planDisplay;
        } else {
            // User is not logged in
            authUserInfo.classList.remove('show');
            authLoginBtn.style.display = 'inline-block';
            if (headerCtaBtn) headerCtaBtn.style.display = 'inline-block';
        }
    }

    // Initialize Auth
    async function initAuth() {
        if (!supabase) {
            console.error('‚ùå Cannot initialize auth: Supabase client is null');
            return;
        }
        
        try {
            console.log('üîç Checking for existing session...');
            // Check current session
            const { data: { session }, error: sessionError } = await supabase.auth.getSession();
            
            if (sessionError) {
                console.error('‚ùå Session error:', sessionError);
                console.error('Message:', sessionError.message);
                return;
            }
            
            console.log('‚úÖ Session check complete. User:', session?.user?.email || 'Not logged in');

            if (session?.user) {
                currentUser = session.user;
                userPlan = await getUserProfile(session.user.id);
                updateAuthUI();
            }

            // Listen for auth changes
            supabase.auth.onAuthStateChange(async (event, session) => {
                if (event === 'SIGNED_IN' && session?.user) {
                    currentUser = session.user;
                    userPlan = await getUserProfile(session.user.id);
                    updateAuthUI();
                } else if (event === 'SIGNED_OUT') {
                    currentUser = null;
                    userPlan = null;
                    updateAuthUI();
                }
            });

        } catch (error) {
            console.error('Auth initialization error:', error);
        }
    }

    // Close modal on outside click
    document.getElementById('authModal')?.addEventListener('click', (e) => {
        if (e.target.id === 'authModal') {
            closeAuthModal();
        }
    });

</script>

<!-- Cookie Banner -->
<div class="cookie-banner" id="cookieBanner">
    <div class="cookie-banner-content">
        <div class="cookie-banner-text">
            <span data-i18n="cookie-text">Nous utilisons des cookies pour am√©liorer votre exp√©rience, analyser le trafic et personnaliser le contenu. En continuant, vous acceptez notre utilisation des cookies.</span> <a href="politique-confidentialite.html" data-i18n-href-fr="politique-confidentialite.html" data-i18n-href-en="privacy-policy.html" data-i18n="cookie-learn-more">En savoir plus</a>
        </div>
        <div class="cookie-banner-buttons">
            <button class="cookie-btn cookie-btn-refuse" id="cookieRefuse" data-i18n="cookie-refuse">Refuser</button>
            <button class="cookie-btn cookie-btn-accept" id="cookieAccept" data-i18n="cookie-accept">Accepter</button>
        </div>
    </div>
</div>

<!-- Auth Modal -->
<div class="auth-modal" id="authModal">
    <div class="auth-modal-content">
        <button class="auth-modal-close" onclick="closeAuthModal()">√ó</button>
        <h2 data-i18n="auth-title">Se connecter</h2>
        <div class="auth-message" id="authMessage"></div>
        <form id="authForm" onsubmit="handleAuthSubmit(event)">
            <div class="auth-form-group">
                <label for="authEmail" data-i18n="auth-email-label">Email</label>
                <input 
                    type="email" 
                    id="authEmail" 
                    name="email" 
                    placeholder="votre@email.com" 
                    required
                    autocomplete="email"
                >
            </div>
            <button type="submit" class="auth-btn" id="authSubmitBtn" data-i18n="auth-submit">Se connecter</button>
        </form>
    </div>
</div>

</body>
</html>
